<table table class="w-full shadow-lg">
  <tr class="flex justify-between p-3 border-b-2 border-slate-800">
    <td class="basis-1/2 text-lg">訂單商品</td>
    <td class="basis-1/4 text-center">單價</td>
    <td class="basis-1/4 text-center">數量</td>
    <td class="basis-1/4 text-center">總計</td>
  </tr>
  <ng-container *ngIf="buyProduct$ | async as buyProducts">
    <tr *ngFor="let product of buyProducts,let i = index" class="flex justify-between p-3">
      <td class="flex basis-1/2">
        <h4 class="mr-10">{{product.productName}}</h4>
        <div>
          <img src="https://picsum.photos/200/100?random={{i}}" alt="">
        </div>
      </td>
      <td class="basis-1/4 text-center">${{product.productPrice}}</td>
      <td class="basis-1/4 text-center">
        {{product.productCount}}
      </td>
      <td class="basis-1/4 text-center">${{product.productCount * product.productPrice}}</td>
    </tr>
  </ng-container>
</table>


<mat-accordion>
  <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon>card_giftcard</mat-icon>
        賣場優惠券
      </mat-panel-title>
      <mat-panel-description>
        選擇優惠券或輸入代碼
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p>運費抵用券</p>
    <p>折扣</p>
    <app-coupon></app-coupon>
  </mat-expansion-panel>
</mat-accordion>

<div class="flex flex-col items-end mt-5">
  <h4>總金額(個商品)</h4>
  <!-- <h4>${{feeSum()}}</h4> -->
  <button
    class="bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded"
    (click)="buy()">結帳
  </button>
</div>
